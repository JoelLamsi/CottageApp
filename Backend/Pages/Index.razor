@page "/"
@using DataObjects
@using Backend.Services
@inject ICottageService cottageService

@foreach (var cottage in Cottages)
{
    <CottageListItem Cottage="@cottage"/>
}

@code {
    public List<Cottage>? Cottages { get; set; } = new List<Cottage>();

    protected override async Task OnInitializedAsync()
    {
        await GetCottages();
    }

    private async Task GetCottages()
    {
        Cottages = await cottageService.GetCottagesAsync();
    }
}